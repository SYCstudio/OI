#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<algorithm>
using namespace std;

#define ll long long
#define mem(Arr,x) memset(Arr,x,sizeof(Arr))

const int inf=2147483647;

ll Calc(ll a,ll b,ll c,ll n);

int main(){
	ll a,b,c;scanf("%lld%lld%lld",&a,&b,&c);
	printf("%lld\n",Calc(-b,a+c,a,c/b));
}

ll Calc(ll a,ll b,ll c,ll n){
	//cout<<a<<" "<<b<<" "<<c<<" "<<n<<endl;
	if (n==0) return 0;
	if (a==0) return b/c;
	if ((a>=0)&&(a<c)&&(b>=0)&&(b<c)){
		ll m=(a*n+b)/c;return m*n-Calc(c,c-b-1,a,m-1);
	}
	ll p=(a>0)?(a/c):((a-c+1)/c),q=a-p*c,m=(b>0)?(b/c):((b-c+1)/c),t=b-m*c;
	//cout<<"pqmt:"<<p<<" "<<q<<" "<<m<<" "<<t<<endl;
	return Calc(q,t,c,n)+n*(n+1)/2*p+(n+1)*m;
}
